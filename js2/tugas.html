<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>GDP Comparison</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

</head>

<body>
    <div id="chart2" style="width:600px;height:400px;"></div>
    <label>
        <input type="checkbox" id="eastAsiaCheckbox" checked> East Asia-Pacific
    </label>
    <label>
        <input type="checkbox" id="europeCheckbox" checked> Europe-Central Asia
    </label>
    <label>
        <input type="checkbox" id="latinAmericaCheckbox" checked> Latin America-Caribbean
    </label>
    <label>
        <input type="checkbox" id="middleEastCheckbox" checked> Middle East-North Africa
    </label>
    <label>
        <input type="checkbox" id="southAsiaCheckbox" checked> South Asia
    </label>
    <label>
        <input type="checkbox" id="subSaharanAfricaCheckbox" checked> Sub-Saharan Africa
    </label>

    <!--[if lt IE 9]><script src="js/excanvas.min.js"></script><![endif]-->
    <script src="https://cdn.jsdelivr.net/npm/flotr2@0.1.0/flotr2.min.js"></script>
    <script>
        var data = {
            "East Asia-Pacific": [
                [1980, 1815.97],
                [1981, 2001.89],
                [1982, 1962.33],
                [1983, 2087.90],
                [1984, 2235.98],
                [1985, 2359.54],
                [1986, 3082.61],
                [1987, 3619.76],
                [1988, 4354.92],
                [1989, 4536.21],
                [1990, 4738.18],
                [1991, 5349.24],
                [1992, 5844.85],
                [1993, 6536.24],
                [1994, 7403.85],
                [1995, 8407.27],
                [1996, 8101.13],
                [1997, 7744.67],
                [1998, 6929.79],
                [1999, 7740.39],
                [2000, 8374.97],
                [2001, 7788.98],
                [2002, 7911.87],
                [2003, 8699.26],
                [2004, 9756.92],
                [2005, 10409.53],
                [2006, 11031.66],
                [2007, 12325.98],
                [2008, 14210.86],
                [2009, 14623.04],
                [2010, 17066.37],
                [2011, 19790.74],
                [2012, 21172.22],
                [2013, 21410.75],
                [2014, 22086.20],
                [2015, 21997.19],
                [2016, 22772.30],
                [2017, 24324.93],
                [2018, 26485.23],
                [2019, 27024.00],
                [2020, 27144.86]
            ],
            "Europe-Central Asia": [
                [1980, 4399.43],
                [1981, 4676.87],
                [1982, 4727.65],
                [1983, 4759.20],
                [1984, 5068.24],
                [1985, 5304.91],
                [1986, 5548.10],
                [1987, 5879.28],
                [1988, 6339.67],
                [1989, 6658.64],
                [1990, 6692.19],
                [1991, 6384.57],
                [1992, 6247.36],
                [1993, 6164.01],
                [1994, 6336.23],
                [1995, 6725.96],
                [1996, 6991.71],
                [1997, 7315.66],
                [1998, 7413.77],
                [1999, 7653.17],
                [2000, 8197.11],
                [2001, 8375.82],
                [2002, 8553.00],
                [2003, 8958.90],
                [2004, 9540.69],
                [2005, 10095.35],
                [2006, 10746.76],
                [2007, 11581.05],
                [2008, 12059.98],
                [2009, 11186.30],
                [2010, 11807.63],
                [2011, 12597.48],
                [2012, 12677.33],
                [2013, 12840.50],
                [2014, 13103.54],
                [2015, 13097.64],
                [2016, 13299.29],
                [2017, 13993.88],
                [2018, 14725.75],
                [2019, 14973.62],
                [2020, 13779.53]

            ],
            "Latin America-Carribean": [
                [1980, 994.84],
                [1981, 1068.55],
                [1982, 1006.72],
                [1983, 1001.13],
                [1984, 1019.70],
                [1985, 1033.32],
                [1986, 1048.54],
                [1987, 1089.12],
                [1988, 1174.04],
                [1989, 1287.14],
                [1990, 1293.62],
                [1991, 1337.59],
                [1992, 1384.31],
                [1993, 1445.97],
                [1994, 1566.67],
                [1995, 1667.37],
                [1996, 1789.01],
                [1997, 1932.76],
                [1998, 2059.33],
                [1999, 2092.77],
                [2000, 2228.69],
                [2001, 2178.30],
                [2002, 2055.79],
                [2003, 2117.98],
                [2004, 2325.23],
                [2005, 2496.17],
                [2006, 2709.86],
                [2007, 2960.05],
                [2008, 3171.94],
                [2009, 2983.66],
                [2010, 3301.91],
                [2011, 3653.77],
                [2012, 3824.75],
                [2013, 3934.06],
                [2014, 4036.07],
                [2015, 3936.68],
                [2016, 3872.96],
                [2017, 4030.65],
                [2018, 4142.11],
                [2019, 4087.07],
                [2020, 3471.54],
            ],
            "Middle East-North Africa": [
                [1980, 1008.64],
                [1981, 1159.01],
                [1982, 1206.25],
                [1983, 1227.50],
                [1984, 1291.08],
                [1985, 1318.67],
                [1986, 1323.76],
                [1987, 1369.67],
                [1988, 1434.97],
                [1989, 1499.48],
                [1990, 1545.69],
                [1991, 1566.06],
                [1992, 1630.00],
                [1993, 1694.01],
                [1994, 1767.88],
                [1995, 1855.59],
                [1996, 1952.54],
                [1997, 2063.58],
                [1998, 2116.33],
                [1999, 2192.16],
                [2000, 2328.47],
                [2001, 2397.42],
                [2002, 2466.72],
                [2003, 2628.10],
                [2004, 2875.02],
                [2005, 3129.34],
                [2006, 3439.30],
                [2007, 3751.07],
                [2008, 4074.77],
                [2009, 3930.75],
                [2010, 4134.24],
                [2011, 4171.29],
                [2012, 4243.76],
                [2013, 4347.80],
                [2014, 4442.66],
                [2015, 4408.82],
                [2016, 4430.32],
                [2017, 4561.70],
                [2018, 4715.28],
                [2019, 4789.12],
                [2020, 4334.11]
            ],
            "South Asia": [
                [1980, 235.96],
                [1981, 250.14],
                [1982, 258.79],
                [1983, 273.95],
                [1984, 272.68],
                [1985, 296.51],
                [1986, 314.03],
                [1987, 348.69],
                [1988, 374.68],
                [1989, 378.11],
                [1990, 407.07],
                [1991, 362.16],
                [1992, 384.62],
                [1993, 380.99],
                [1994, 432.20],
                [1995, 479.71],
                [1996, 524.81],
                [1997, 550.55],
                [1998, 558.26],
                [1999, 598.15],
                [2000, 630.24],
                [2001, 645.68],
                [2002, 677.43],
                [2003, 791.03],
                [2004, 917.08],
                [2005, 1050.60],
                [2006, 1196.09],
                [2007, 1504.16],
                [2008, 1527.61],
                [2009, 1683.17],
                [2010, 2062.47],
                [2011, 2277.35],
                [2012, 2302.40],
                [2013, 2362.71],
                [2014, 2587.79],
                [2015, 2704.84],
                [2016, 3010.76],
                [2017, 3433.88],
                [2018, 3534.21],
                [2019, 3658.00],
                [2020, 3490.01]
            ],
            "Sub-Saharan Africa": [
                [1980, 282.05],
                [1981, 389.89],
                [1982, 357.76],
                [1983, 314.84],
                [1984, 275.68],
                [1985, 254.46],
                [1986, 261.40],
                [1987, 297.21],
                [1988, 313.58],
                [1989, 319.56],
                [1990, 375.42],
                [1991, 393.46],
                [1992, 363.86],
                [1993, 340.91],
                [1994, 324.86],
                [1995, 377.57],
                [1996, 394.51],
                [1997, 409.66],
                [1998, 396.14],
                [1999, 400.03],
                [2000, 424.44],
                [2001, 407.31],
                [2002, 443.19],
                [2003, 558.25],
                [2004, 693.31],
                [2005, 823.36],
                [2006, 973.53],
                [2007, 1127.37],
                [2008, 1278.24],
                [2009, 1230.01],
                [2010, 1461.71],
                [2011, 1649.50],
                [2012, 1712.72],
                [2013, 1819.94],
                [2014, 1900.85],
                [2015, 1695.99],
                [2016, 1576.54],
                [2017, 1705.94],
                [2018, 1774.22],
                [2019, 1823.37],
                [2020, 1714.05],

            ],
        };

        var chartData = [];

        // Function to update chart visibility based on checkboxes
        function updateChartVisibility() {
            chartData = [];

            if ($("#eastAsiaCheckbox").prop("checked")) {
                chartData.push({ data: data["East Asia-Pacific"], label: "East Asia-Pacific", lines: { show: true }, shadowSize: 0 });
            }
            if ($("#europeCheckbox").prop("checked")) {
                chartData.push({ data: data["Europe-Central Asia"], label: "Europe-Central Asia", lines: { show: true }, shadowSize: 0 });
            }
            if ($("#latinAmericaCheckbox").prop("checked")) {
                chartData.push({ data: data["Latin America-Carribean"], label: "Latin America-Caribbean", lines: { show: true }, shadowSize: 0 });
            }
            if ($("#middleEastCheckbox").prop("checked")) {
                chartData.push({ data: data["Middle East-North Africa"], label: "Middle East-North Africa", lines: { show: true }, shadowSize: 0 });
            }
            if ($("#southAsiaCheckbox").prop("checked")) {
                chartData.push({ data: data["South Asia"], label: "South Asia", lines: { show: true }, shadowSize: 0 });
            }
            if ($("#subSaharanAfricaCheckbox").prop("checked")) {
                chartData.push({ data: data["Sub-Saharan Africa"], label: "Sub-Saharan Africa", lines: { show: true }, shadowSize: 0 });
            }

            Flotr.draw(
                document.getElementById("chart2"),
                chartData,
                {
                    title: "GDP Comparison of the world by region",
                    grid: { horizontalLines: false, verticalLines: false },
                    yaxis: {
                        min: 0,
                        tickFormatter: function (val) {
                            return val + "Bln (USD)";
                        },
                    },
                }
            );
        }

        // Attach event listeners to the checkboxes using jQuery
        $("#eastAsiaCheckbox, #europeCheckbox, #latinAmericaCheckbox, #middleEastCheckbox, #southAsiaCheckbox, #subSaharanAfricaCheckbox").change(updateChartVisibility);

        // Initial chart rendering
        updateChartVisibility();

    </script>
</body>

</html>